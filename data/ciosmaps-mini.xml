<?xml version="1.0" encoding="UTF-8"?>
<ciosmaps ciosgroupscount="2">
    <ciosgroup name="d2x-v${MAJOR_VER}-${MINOR_VER}-WiiMini-PAL" version="${IOS_REV}" basescount="1">
        <base ios="57" version="31776" contentscount="25" modulescount="7" console="mini"
            region="pal"> <!-- PAL version? -->
            <content id="0x13" patchscount="7">		<!-- idx 0 -->
                <patch offset="0x00" size="4" originalbytes="0x66,0x69,0x72,0x6d"
                    newbytes="0x1e,0xe7,0xc1,0x05" />
                <patch offset="0x04" size="4" originalbytes="0x77,0x61,0x72,0x65"
                    newbytes="0x00,0x00,0x00,0x01" />
                <patch offset="0x08" size="4" originalbytes="0x2e,0x36,0x34,0x2e"
                    newbytes="${HEX_MAJOR_VER}" />
                <patch offset="0x0c" size="4" originalbytes="0x31,0x32,0x30,0x39"
                    newbytes="0x00,0x00,0x00,0x39" />
                <patch offset="0x10" size="16"
                    originalbytes="0x32,0x30,0x30,0x38,0x32,0x36,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"
                    newbytes="0x64,0x32,0x78,0x6c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00" />
                <patch offset="0x20" size="16"
                    originalbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x00,0x00"
                    newbytes="${HEX_MINOR_VER}" />
                <patch offset="0x30" size="16"
                    originalbytes="0x4e,0x33,0x30,0x37,0x33,0x40,0x49,0x52,0x44,0x2d,0x4e,0x41,0x52,0x55,0x53,0x00"
                    newbytes="0x7c,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00" />
            </content>
            <content id="0x1" patchscount="2">		<!-- idx 1 -->
                <!-- Disable DI DVD Video commands -->
                <patch offset="0x6E5" size="1" originalbytes="0x01" newbytes="0x00" />
                <patch offset="0x775" size="1" originalbytes="0x01" newbytes="0x00" />
            </content>
            <content id="0x2" />
            <content id="0x3" />
            <content id="0x14" />
            <content id="0x5" />
            <content id="0x6" />
            <content id="0x15" />
            <content id="0x8" />
            <content id="0x9" />
            <content id="0xa" />
            <content id="0xb" />
            <content id="0xc" />
            <content id="0xd" />
            <content id="0xe" />
            <content id="0xf" />
            <content id="0x10" />
            <content id="0x11" patchscount="3">
                <!-- Reroute ARM syscall write to USB Gecko -->
                <!--patch offset="0x1F554" size="4" originalbytes="0xFF,0xFF,0x1F,0x20"
                    newbytes="0xFF,0xFF,0x7B,0xD0" /-->
                <!-- USB Gecko routines -->
                <!--patch offset="0x270FC" size="128"
                    originalbytes="0x46,0x72,0x1C,0x01,0x20,0x05,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x06,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x07,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x08,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x09,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x0A,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x0C,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x0D,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x0E,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x0F,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x10,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x11,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x12,0xDF,0xAB"
                    newbytes="0xE9,0xAD,0x40,0x1F,0xE1,0x5E,0x30,0xB2,0xE2,0x03,0x30,0xFF,0xE3,0x53,0x00,0xAB,0x1A,0x00,0x00,0x07,0xE3,0x50,0x00,0x04,0x1A,0x00,0x00,0x05,0xE5,0x9F,0x30,0x58,0xE5,0xD1,0x20,0x00,0xEB,0x00,0x00,0x04,0xE2,0x81,0x10,0x01,0xE3,0x52,0x00,0x00,0x1A,0xFF,0xFF,0xFA,0xE8,0x3D,0x40,0x1F,0xE1,0xB0,0xF0,0x0E,0xE3,0xA0,0x00,0xD0,0xE5,0x83,0x00,0x00,0xE3,0xA0,0x02,0x0B,0xE1,0x80,0x0A,0x02,0xE5,0x83,0x00,0x10,0xE3,0xA0,0x00,0x19,0xE5,0x83,0x00,0x0C,0xE5,0x93,0x00,0x0C,0xE3,0x10,0x00,0x01,0x1A,0xFF,0xFF,0xFC,0xE5,0x93,0x00,0x10,0xE3,0x10,0x03,0x01,0xE3,0xA0,0x00,0x00,0xE5,0x83,0x00,0x00,0x0A,0xFF,0xFF,0xF0,0xE1,0xA0,0xF0,0x0E,0x0D,0x80,0x68,0x14"
                /-->
                <!-- Reroute IRQ9 to mload -->
                <patch offset="0x28544" size="4" originalbytes="0xFF,0xFF,0x5D,0x32"
                    newbytes="0x13,0x6D,0x00,0x11" />
                <!-- Korean key check -->
                <patch offset="0x21424" size="1" originalbytes="0xD0" newbytes="0xE0" />
                <!-- Korean key -->
                <patch offset="0x29078" size="16"
                    originalbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"
                    newbytes="0x63,0xB8,0x2B,0xB4,0xF4,0x61,0x4E,0x2E,0x13,0xF2,0xFE,0xFB,0xBA,0x4C,0x9B,0x7E" />
            </content>
            <content id="0x16" module="MLOAD" tmdmoduleid="-1" />
            <content id="0x17" module="FAT" tmdmoduleid="-1" />
            <content id="0x18" module="EHCI" tmdmoduleid="2" />
            <content id="0x19" module="DIPP" tmdmoduleid="-1" />
            <content id="0x1a" module="ES" tmdmoduleid="-1" />
            <content id="0x1b" module="FFSP" tmdmoduleid="-1" />
            <content id="0x1c" module="FAKEMOTE" tmdmoduleid="-1" />
        </base>
    </ciosgroup>
    <ciosgroup name="d2x-v${MAJOR_VER}-${MINOR_VER}-WiiMini-NTSCU" version="${IOS_REV}"
        basescount="1">
        <base ios="57" version="31775" contentscount="25" modulescount="7" console="mini"
            region="ntscu">  <!-- Canada version -->
            <content id="0x12" patchscount="7">		<!-- idx 0 -->
                <patch offset="0x00" size="4" originalbytes="0x66,0x69,0x72,0x6d"
                    newbytes="0x1e,0xe7,0xc1,0x05" />
                <patch offset="0x04" size="4" originalbytes="0x77,0x61,0x72,0x65"
                    newbytes="0x00,0x00,0x00,0x01" />
                <patch offset="0x08" size="4" originalbytes="0x2e,0x36,0x34,0x2e"
                    newbytes="${HEX_MAJOR_VER}" />
                <patch offset="0x0c" size="4" originalbytes="0x31,0x32,0x30,0x39"
                    newbytes="0x00,0x00,0x00,0x39" />
                <patch offset="0x10" size="16"
                    originalbytes="0x31,0x37,0x32,0x33,0x35,0x33,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"
                    newbytes="0x64,0x32,0x78,0x6c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00" />
                <patch offset="0x20" size="16"
                    originalbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x00,0x00"
                    newbytes="${HEX_MINOR_VER}" />
                <patch offset="0x30" size="16"
                    originalbytes="0x4e,0x33,0x30,0x37,0x33,0x40,0x49,0x52,0x44,0x2d,0x4e,0x41,0x52,0x55,0x53,0x00"
                    newbytes="0x7c,0x1f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00" />
            </content>
            <content id="0x1" patchscount="2">		<!-- idx 1 -->
                <!-- Disable DI DVD Video commands -->
                <patch offset="0x6E5" size="1" originalbytes="0x01" newbytes="0x00" />
                <patch offset="0x775" size="1" originalbytes="0x01" newbytes="0x00" />
            </content>
            <content id="0x2" />
            <content id="0x3" />
            <content id="0x4" />
            <content id="0x5" />
            <content id="0x6" />
            <content id="0x7" />
            <content id="0x8" />
            <content id="0x9" />
            <content id="0xa" />
            <content id="0xb" />
            <content id="0xc" />
            <content id="0xd" />
            <content id="0xe" />
            <content id="0xf" />
            <content id="0x10" />
            <content id="0x11" patchscount="3">
                <!-- Reroute ARM syscall write to USB Gecko -->
                <!--patch offset="0x1F554" size="4" originalbytes="0xFF,0xFF,0x1F,0x20"
                    newbytes="0xFF,0xFF,0x7B,0xD0" /-->
                <!-- USB Gecko routines -->
                <!--patch offset="0x270FC" size="128"
                    originalbytes="0x46,0x72,0x1C,0x01,0x20,0x05,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x06,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x07,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x08,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x09,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x0A,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x0C,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x0D,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x0E,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x0F,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x10,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x11,0xDF,0xAB,0x47,0x10,0x46,0x72,0x1C,0x01,0x20,0x12,0xDF,0xAB"
                    newbytes="0xE9,0xAD,0x40,0x1F,0xE1,0x5E,0x30,0xB2,0xE2,0x03,0x30,0xFF,0xE3,0x53,0x00,0xAB,0x1A,0x00,0x00,0x07,0xE3,0x50,0x00,0x04,0x1A,0x00,0x00,0x05,0xE5,0x9F,0x30,0x58,0xE5,0xD1,0x20,0x00,0xEB,0x00,0x00,0x04,0xE2,0x81,0x10,0x01,0xE3,0x52,0x00,0x00,0x1A,0xFF,0xFF,0xFA,0xE8,0x3D,0x40,0x1F,0xE1,0xB0,0xF0,0x0E,0xE3,0xA0,0x00,0xD0,0xE5,0x83,0x00,0x00,0xE3,0xA0,0x02,0x0B,0xE1,0x80,0x0A,0x02,0xE5,0x83,0x00,0x10,0xE3,0xA0,0x00,0x19,0xE5,0x83,0x00,0x0C,0xE5,0x93,0x00,0x0C,0xE3,0x10,0x00,0x01,0x1A,0xFF,0xFF,0xFC,0xE5,0x93,0x00,0x10,0xE3,0x10,0x03,0x01,0xE3,0xA0,0x00,0x00,0xE5,0x83,0x00,0x00,0x0A,0xFF,0xFF,0xF0,0xE1,0xA0,0xF0,0x0E,0x0D,0x80,0x68,0x14"
                /-->
                <!-- Reroute IRQ9 to mload -->
                <patch offset="0x28544" size="4" originalbytes="0xFF,0xFF,0x5D,0x32"
                    newbytes="0x13,0x6D,0x00,0x11" />
                <!-- Korean key check -->
                <patch offset="0x21424" size="1" originalbytes="0xD0" newbytes="0xE0" />
                <!-- Korean key -->
                <patch offset="0x29078" size="16"
                    originalbytes="0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00"
                    newbytes="0x63,0xB8,0x2B,0xB4,0xF4,0x61,0x4E,0x2E,0x13,0xF2,0xFE,0xFB,0xBA,0x4C,0x9B,0x7E" />
            </content>
            <content id="0x12" module="MLOAD" tmdmoduleid="-1" />
            <content id="0x13" module="FAT" tmdmoduleid="-1" />
            <content id="0x14" module="EHCI" tmdmoduleid="2" />
            <content id="0x15" module="DIPP" tmdmoduleid="-1" />
            <content id="0x16" module="ES" tmdmoduleid="-1" />
            <content id="0x17" module="FFSP" tmdmoduleid="-1" />
            <content id="0x18" module="FAKEMOTE" tmdmoduleid="-1" />
        </base>
    </ciosgroup>
</ciosmaps>